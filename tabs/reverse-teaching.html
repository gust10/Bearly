<div id="mainContent">
  <!-- Screen 1: Topic Input -->
  <div class="screen" id="topicScreen">
    <button class="back-btn" onclick="showNav()">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6"/></svg> Back
    </button>
    <div class="screen-title" style="margin-top: 15px;">Please enter the topic you would like to explain:</div>
    <div class="input-group">
      <input type="text" id="topicInput" placeholder="e.g. Photosynthesis">
      <button class="primary-btn" id="submitTopicBtn">Next</button>
    </div>
  </div>

  <!-- Screen 2: Explanation Input -->
  <div class="screen" id="explanationScreen">
    <button class="back-btn" onclick="showScreen('topicScreen')">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6"/></svg> Back
    </button>
    <div class="screen-title" style="margin-top: 15px;">Now, please explain everything you know about this topic:</div>
    <div class="input-group">
      <textarea id="explanationInput" rows="5" placeholder="Your explanation..."></textarea>
      <button class="primary-btn" id="submitExplanationBtn">Submit</button>
    </div>
  </div>

  <!-- Screen 3: Feedback & Chat -->
  <div class="screen" id="feedbackScreen">
    <button class="back-btn" id="feedbackBackBtn">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6"/></svg> Back
    </button>
    <div class="screen-title" style="margin-top: 15px;">Reverse Teaching Feedback</div>
    <div id="feedbackContent" class="feedback-box"></div>
    
    <div id="feedbackLoading" class="loading" style="display: none; margin: 5px 0;">
      <div class="loading-ring"><div></div><div></div><div></div><div></div></div>
      Thinking...
    </div>

    <div class="chat-input-area" id="chatInputArea" style="display: none;">
      <input type="text" id="chatInput" class="chat-input" placeholder="Continue the discussion...">
      <button id="sendChatBtn" class="send-btn">
        <svg viewBox="0 0 24 24" width="14" height="14" fill="none" stroke="currentColor" stroke-width="2.5"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg>
      </button>
    </div>

    <div class="input-group" style="padding-top: 8px; padding-bottom: 6px;">
      <button class="secondary-btn" title="Coming Soon">Generate Flashcards</button>
      <button class="secondary-btn" title="Coming Soon">Generate Questions</button>
    </div>
  </div>
</div>
